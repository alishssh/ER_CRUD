**Documentation**

Create a many to many ER table using ORM and perform CRUDoperation.

**Tech Stack**

Backend(Django)

Database(PostgreSQL)

**Project Structure**

Task 3/

├── myproject/

│   ├── myproject/

│   │   ├── \_\_init\_\_.py

│   │   ├── asgi.py

│   │   ├── settings.py

│   │   ├── urls.py

│   │  └── wsgi.py

│   ├── myapp/

│   │   ├── migrations/

│   │  │   ├── \_\_init\_\_.py

│   │  │   └── 0001\_initial.py

│   │   ├── \_\_init\_\_.py

│   │   ├── admin.py

│   │   ├── apps.py

│   │   ├── models.py

│   │   ├── tests.py

│   │  └── views.py

│   ├── db.sqlite3

│   ├── manage.py

│   └── README.md

└──requirements.txt

**Step-By-Step Implementation**

1.     Define your application and Databasein settings.py

Django settings for myprojectproject.

Generated by 'django-admin startproject' using Django 5.1.5.

For more information on this file, see

https://docs.djangoproject.com/en/5.1/topics/settings/

For the full list of settings and their values, see

https://docs.djangoproject.com/en/5.1/ref/settings/

"""

from pathlib import Path

\# Build paths inside the project like this: BASE\_DIR /'subdir'.

BASE\_DIR = Path(\_\_file\_\_).resolve().parent.parent

\# Quick-start development settings - unsuitable forproduction

\# Seehttps://docs.djangoproject.com/en/5.1/howto/deployment/checklist/

\# SECURITY WARNING: keep the secret key used in productionsecret!

SECRET\_KEY ='django-insecure-\_t4s!aj\_yeej642hu742(q78%w#vcmnca!t00#-tfzuebi(r!!'

\# SECURITY WARNING: don't run with debug turned on inproduction!

DEBUG = True

ALLOWED\_HOSTS = \[\]

\# Application definition

INSTALLED\_APPS = \[

   'django.contrib.admin',

   'django.contrib.auth',

   'django.contrib.contenttypes',

   'django.contrib.sessions',

   'django.contrib.messages',

   'django.contrib.staticfiles',

    'myapp',

\]

MIDDLEWARE = \[

   'django.middleware.security.SecurityMiddleware',

   'django.contrib.sessions.middleware.SessionMiddleware',

   'django.middleware.common.CommonMiddleware',

   'django.middleware.csrf.CsrfViewMiddleware',

   'django.contrib.auth.middleware.AuthenticationMiddleware',

   'django.contrib.messages.middleware.MessageMiddleware',

   'django.middleware.clickjacking.XFrameOptionsMiddleware',

\]

ROOT\_URLCONF = 'myproject.urls'

TEMPLATES = \[

    {

        'BACKEND':'django.template.backends.django.DjangoTemplates',

        'DIRS': \[\],

        'APP\_DIRS':True,

        'OPTIONS': {

           'context\_processors': \[

               'django.template.context\_processors.debug',

               'django.template.context\_processors.request',

               'django.contrib.auth.context\_processors.auth',

               'django.contrib.messages.context\_processors.messages',

            \],

        },

    },

\]

WSGI\_APPLICATION = 'myproject.wsgi.application'

\# Database

\# https://docs.djangoproject.com/en/5.1/ref/settings/#databases

DATABASES = {

    'default': {

        'ENGINE':'django.db.backends.postgresql',

        'NAME':'Intern',

        'USER':'postgres',

        'PASSWORD':'Alish@123',

        'HOST':'localhost',

        'PORT': '5432',

    }

}

\# Password validation

#https://docs.djangoproject.com/en/5.1/ref/settings/#auth-password-validators

AUTH\_PASSWORD\_VALIDATORS = \[

    {

        'NAME':'django.contrib.auth.password\_validation.UserAttributeSimilarityValidator',

    },

    {

        'NAME':'django.contrib.auth.password\_validation.MinimumLengthValidator',

    },

    {

        'NAME':'django.contrib.auth.password\_validation.CommonPasswordValidator',

    },

    {

        'NAME':'django.contrib.auth.password\_validation.NumericPasswordValidator',

    },

\]

\# Internationalization

\# https://docs.djangoproject.com/en/5.1/topics/i18n/

LANGUAGE\_CODE = 'en-us'

TIME\_ZONE = 'UTC'

USE\_I18N = True

USE\_TZ = True

\# Static files (CSS, JavaScript, Images)

\# https://docs.djangoproject.com/en/5.1/howto/static-files/

STATIC\_URL = 'static/'

\# Default primary key field type

#https://docs.djangoproject.com/en/5.1/ref/settings/#default-auto-field

DEFAULT\_AUTO\_FIELD = 'django.db.models.BigAutoField'

2.     Create models in models.py

from django.db import models

class Customer(models.Model):

    name =models.CharField(max\_length=100)

    email =models.EmailField(unique=True, blank=True, null=True)

    phone =models.CharField(max\_length=15, blank=True, null=True)

    address =models.TextField(blank=True, null=True)

    created\_at =models.DateTimeField(auto\_now\_add=True, null=True)

    def \_\_str\_\_(self):

        returnself.name

class Product(models.Model):

    name =models.CharField(max\_length=200)

    description =models.TextField(blank=True, null=True)

    price =models.DecimalField(max\_digits=10, decimal\_places=2)

    stock =models.PositiveIntegerField()

    created\_at =models.DateTimeField(auto\_now\_add=True, null=True)

    def \_\_str\_\_(self):

        returnself.name

class Order(models.Model):

    STATUS\_CHOICES = \[

        ('Pending','Pending'),

        ('Processing','Processing'),

        ('Delivered','Delivered'),

        ('Cancelled','Cancelled'),

    \]

    customer =models.ForeignKey(Customer, on\_delete=models.CASCADE)

    product =models.ManyToManyField(Product)

    status =models.CharField(max\_length=20, choices=STATUS\_CHOICES, default='Pending')

    created\_at =models.DateTimeField(auto\_now\_add=True, null=True)

    def \_\_str\_\_(self):

        returnf"Order #{self.id} - {self.customer.name}"

3.     Register models in admin.py

from django.contrib import admin

from .models import Customer, Product, Order

class CustomerAdmin(admin.ModelAdmin):

    list\_display = ('name','email', 'phone', 'created\_at')

    search\_fields = ('name','email')

class ProductAdmin(admin.ModelAdmin):

    list\_display = ('name','price', 'stock', 'created\_at')

    search\_fields = ('name',)

    list\_filter = ('created\_at',)

class OrderAdmin(admin.ModelAdmin):

    list\_display = ('id','customer', 'status', 'created\_at')

    search\_fields =('customer\_\_name',)

    list\_filter = ('status','created\_at')

    filter\_horizontal =('product',) 

**Run the Project**

·      .venv\\Scripts\\activate

·      Migrate with python.py makemigrations andpython.py migrate

·      Runserver with python manage.py runserver

·      Access the server at [https://127.0.0.1:8000](https://127.0.0.1:8000)/admin

·      Perfrom CRUD operations in python shell.py

**CRUD Operation**
![Image](https://github.com/user-attachments/assets/15ca53a7-6701-4ce7-9006-8fa04ed206d1)
![Image](https://github.com/user-attachments/assets/80df93c3-0d01-4b3a-8195-404021eb3837)

**Conclusion:**

This Django app creates arelationship a many-many ER model and updates the database using CRUD.
